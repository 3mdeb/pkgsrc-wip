$NetBSD$

--- third_party/ffmpeg/ffmpeg_generated.gni.orig	2016-06-24 01:03:39.000000000 +0000
+++ third_party/ffmpeg/ffmpeg_generated.gni
@@ -12,7 +12,7 @@ ffmpeg_c_sources = []
 ffmpeg_gas_sources = []
 ffmpeg_yasm_sources = []
 
-if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chromium")) {
+if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chromium")) {
   ffmpeg_c_sources += [
     "libavcodec/allcodecs.c",
     "libavcodec/autorename_libavcodec_utils.c",
@@ -145,7 +145,7 @@ if ((is_android && current_cpu == "arm" 
   ]
 }
 
-if ((is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chromium")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chromium")) {
   ffmpeg_c_sources += [
     "libavcodec/h264pred.c",
     "libavcodec/hpeldsp.c",
@@ -160,13 +160,13 @@ if ((is_linux && current_cpu == "arm" &&
   ]
 }
 
-if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
+if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
   ffmpeg_c_sources += [
     "libavformat/rawdec.c",
   ]
 }
 
-if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
+if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
   ffmpeg_c_sources += [
     "libavcodec/aac_ac3_parser.c",
     "libavcodec/aac_parser.c",
@@ -208,7 +208,7 @@ if ((is_android && current_cpu == "arm" 
   ]
 }
 
-if ((is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chromium")) {
+if ((is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chromium")) {
   ffmpeg_c_sources += [
     "libavcodec/x86/autorename_libavcodec_x86_vorbisdsp_init.c",
     "libavcodec/x86/constants.c",
@@ -220,7 +220,7 @@ if ((is_android && current_cpu == "x64" 
   ]
 }
 
-if ((is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chromium")) {
+if ((is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x64" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chromium")) {
   ffmpeg_yasm_sources += [
     "libavcodec/x86/fft.asm",
     "libavcodec/x86/vorbisdsp.asm",
@@ -231,7 +231,7 @@ if ((is_android && current_cpu == "x64" 
   ]
 }
 
-if ((is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
   ffmpeg_c_sources += [
     "libavcodec/cabac.c",
     "libavcodec/h264.c",
@@ -254,7 +254,7 @@ if ((is_linux && current_cpu == "arm" &&
   ]
 }
 
-if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS")) {
+if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS")) {
   ffmpeg_c_sources += [
     "libavcodec/arm/fft_fixed_init_arm.c",
     "libavcodec/arm/fft_init_arm.c",
@@ -270,7 +270,7 @@ if ((is_android && current_cpu == "arm" 
   ]
 }
 
-if ((is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS")) {
   ffmpeg_c_sources += [
     "libavcodec/flac.c",
     "libavcodec/flac_parser.c",
@@ -281,7 +281,7 @@ if ((is_linux && current_cpu == "arm" &&
   ]
 }
 
-if ((is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS")) {
   ffmpeg_c_sources += [
     "libavcodec/arm/h264pred_init_arm.c",
     "libavcodec/arm/hpeldsp_init_arm.c",
@@ -301,7 +301,7 @@ if ((is_linux && current_cpu == "arm" &&
   ]
 }
 
-if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS")) {
+if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS")) {
   ffmpeg_c_sources += [
     "libavutil/arm/float_dsp_init_neon.c",
   ]
@@ -316,7 +316,7 @@ if ((is_android && current_cpu == "arm" 
   ]
 }
 
-if ((is_linux && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chromium")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chromium") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chromium")) {
   ffmpeg_c_sources += [
     "libavcodec/x86/autorename_libavcodec_x86_videodsp_init.c",
     "libavcodec/x86/h264_intrapred_init.c",
@@ -336,13 +336,13 @@ if ((is_linux && current_cpu == "x64" &&
   ]
 }
 
-if ((is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS")) {
+if ((is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chromium") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS")) {
   ffmpeg_c_sources += [
     "libavutil/mips/float_dsp_mips.c",
   ]
 }
 
-if ((is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
+if ((is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
   ffmpeg_c_sources += [
     "libavcodec/x86/aacpsdsp_init.c",
     "libavcodec/x86/dct_init.c",
@@ -351,7 +351,7 @@ if ((is_android && current_cpu == "x64" 
   ]
 }
 
-if ((is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
+if ((is_android && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
   ffmpeg_yasm_sources += [
     "libavcodec/x86/aacpsdsp.asm",
     "libavcodec/x86/dct32.asm",
@@ -360,7 +360,7 @@ if ((is_android && current_cpu == "x64" 
   ]
 }
 
-if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS")) {
+if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_c_sources += [
     "libavcodec/arm/aacpsdsp_init_arm.c",
     "libavcodec/arm/mpegaudiodsp_init_arm.c",
@@ -371,7 +371,7 @@ if ((is_android && current_cpu == "arm" 
   ]
 }
 
-if ((is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_c_sources += [
     "libavcodec/acelp_filters.c",
     "libavcodec/acelp_pitch_delay.c",
@@ -426,7 +426,7 @@ if ((is_linux && current_cpu == "arm" &&
   ]
 }
 
-if ((is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromiumOS")) {
   ffmpeg_c_sources += [
     "libavcodec/mips/h264pred_init_mips.c",
     "libavcodec/mips/hpeldsp_init_mips.c",
@@ -434,7 +434,7 @@ if ((is_linux && current_cpu == "mipsel"
   ]
 }
 
-if ((is_android && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS")) {
+if ((is_android && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS")) {
   ffmpeg_c_sources += [
     "libavcodec/aarch64/fft_init_aarch64.c",
     "libavcodec/aarch64/vorbisdsp_init.c",
@@ -449,7 +449,7 @@ if ((is_android && current_cpu == "arm64
   ]
 }
 
-if ((is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromiumOS")) {
   ffmpeg_c_sources += [
     "libavcodec/aarch64/h264pred_init.c",
     "libavcodec/aarch64/hpeldsp_init_aarch64.c",
@@ -462,7 +462,7 @@ if ((is_linux && current_cpu == "arm64" 
   ]
 }
 
-if ((is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromiumOS")) {
   ffmpeg_c_sources += [
     "libavcodec/arm/flacdsp_init_arm.c",
   ]
@@ -471,7 +471,7 @@ if ((is_linux && current_cpu == "arm" &&
   ]
 }
 
-if ((is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_c_sources += [
     "libavcodec/arm/h264chroma_init_arm.c",
     "libavcodec/arm/h264dsp_init_arm.c",
@@ -482,7 +482,7 @@ if ((is_linux && current_cpu == "arm" &&
   ]
 }
 
-if ((is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chromium") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromiumOS")) {
   ffmpeg_c_sources += [
     "libavcodec/arm/hpeldsp_init_neon.c",
     "libavcodec/arm/vp8dsp_init_neon.c",
@@ -495,14 +495,14 @@ if ((is_linux && current_cpu == "arm" &&
   ]
 }
 
-if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS")) {
+if ((is_android && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "arm" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_gas_sources += [
     "libavcodec/arm/aacpsdsp_neon.S",
     "libavcodec/arm/sbrdsp_neon.S",
   ]
 }
 
-if ((is_linux && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_mac && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x64" && ffmpeg_branding == "Chrome") || (is_win && current_cpu == "x86" && ffmpeg_branding == "Chrome")) {
   ffmpeg_c_sources += [
     "libavcodec/x86/h264_qpel.c",
     "libavcodec/x86/h264chroma_init.c",
@@ -523,7 +523,7 @@ if ((is_linux && current_cpu == "x64" &&
   ]
 }
 
-if ((is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS")) {
+if ((is_android && current_cpu == "mips64el" && ffmpeg_branding == "Chrome") || (is_android && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_c_sources += [
     "libavcodec/mips/aacdec_mips.c",
     "libavcodec/mips/aacpsdsp_mips.c",
@@ -532,7 +532,7 @@ if ((is_android && current_cpu == "mips6
   ]
 }
 
-if ((is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromiumOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromiumOS")) {
   ffmpeg_c_sources += [
     "libavcodec/x86/flacdsp_init.c",
   ]
@@ -547,7 +547,7 @@ if ((is_win && current_cpu == "x64" && f
   ]
 }
 
-if ((is_linux && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_c_sources += [
     "libavcodec/mips/h264chroma_init_mips.c",
     "libavcodec/mips/h264dsp_init_mips.c",
@@ -555,7 +555,7 @@ if ((is_linux && current_cpu == "mipsel"
   ]
 }
 
-if ((is_android && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS")) {
+if ((is_android && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_c_sources += [
     "libavcodec/aarch64/imdct15_init.c",
     "libavcodec/aarch64/mpegaudiodsp_init.c",
@@ -566,7 +566,7 @@ if ((is_android && current_cpu == "arm64
   ]
 }
 
-if ((is_linux && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_c_sources += [
     "libavcodec/aarch64/h264chroma_init_aarch64.c",
     "libavcodec/aarch64/h264dsp_init_aarch64.c",
@@ -580,7 +580,7 @@ if ((is_linux && current_cpu == "arm64" 
   ]
 }
 
-if ((is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm" && ffmpeg_branding == "ChromeOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_c_sources += [
     "libavcodec/arm/blockdsp_init_arm.c",
     "libavcodec/arm/idctdsp_init_arm.c",
@@ -604,13 +604,13 @@ if ((is_linux && current_cpu == "arm" &&
   ]
 }
 
-if ((is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "arm64" && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_c_sources += [
     "libavcodec/neon/autorename_libavcodec_neon_mpegvideo.c",
   ]
 }
 
-if ((is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "Chrome") || ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_gas_sources += [
     "libavcodec/arm/h264cmc_neon.S",
     "libavcodec/arm/h264dsp_neon.S",
@@ -625,7 +625,7 @@ if ((is_win && current_cpu == "x64" && f
   ]
 }
 
-if ((is_linux && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || (is_linux && current_cpu == "x86" && ffmpeg_branding == "ChromeOS")) {
+if (((is_linux || os_bsd == 1) && current_cpu == "x64" && ffmpeg_branding == "ChromeOS") || ((is_linux || os_bsd == 1) && current_cpu == "x86" && ffmpeg_branding == "ChromeOS")) {
   ffmpeg_c_sources += [
     "libavcodec/x86/blockdsp_init.c",
     "libavcodec/x86/fdct.c",
@@ -652,7 +652,7 @@ if ((is_linux && current_cpu == "x64" &&
   ]
 }
 
-if (is_linux && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") {
+if ((is_linux || os_bsd == 1) && current_cpu == "mipsel" && ffmpeg_branding == "ChromeOS") {
   ffmpeg_c_sources += [
     "libavcodec/mips/blockdsp_init_mips.c",
     "libavcodec/mips/h263dsp_init_mips.c",
@@ -665,7 +665,7 @@ if (is_linux && current_cpu == "mipsel" 
   ]
 }
 
-if (is_linux && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") {
+if ((is_linux || os_bsd == 1) && current_cpu == "arm" && arm_use_neon && ffmpeg_branding == "ChromeOS") {
   ffmpeg_c_sources += [
     "libavcodec/arm/blockdsp_init_neon.c",
     "libavcodec/arm/idctdsp_init_neon.c",

# $NetBSD$
#
###########################################################
#                  Generated by fbsd2pkg                  #
#              Wed Aug 30 13:54:33 CDT 2017               #
###########################################################

# Bugs: Conflicts with bgzip, tabix, epstopdf

DISTNAME=	epacts-${PORTVERSION}
CATEGORIES=	biology
MASTER_SITES=	${MASTER_SITE_GITHUB:=statgen/}
GITHUB_PROJECT=	EPACTS
GITHUB_TAG=	a5209db1b3929c4dd2f15f27ea085edf3a634ee7

MAINTAINER=	bacon4000@gmail.com
HOMEPAGE=	https://genome.sph.umich.edu/wiki/EPACTS
COMMENT=	Efficient and Parallelizable Association Container Toolbox
# Check this
LICENSE=	gnu-gpl-v3

# Test and change if necessary.
# MAKE_JOBS_SAFE=	no

DEPENDS+=	gnuplot>=0:../../graphics/gnuplot
DEPENDS+=	R>=0:../../math/R

# Just assuming C and C++: Adjust this!
USE_LANGUAGES=	c c++
USE_TOOLS+=	autoconf automake autoreconf bash perl
USE_LIBTOOL=	yes
GNU_CONFIGURE=	yes
REPLACE_BASH=	scripts/*.sh
REPLACE_PERL=	scripts/epacts*

WRKSRC=		${WRKDIR}/${GITHUB_PROJECT}-${GITHUB_TAG}
INSTALL_TARGET=	install-strip

PORTVERSION=	2017.08.15

pre-configure:
	cd ${WRKSRC} && autoreconf -if

post-install:
	${STRIP_CMD} \
		${DESTDIR}${PREFIX}/lib/mmSKAT/libs/mmSKAT.so \
		${DESTDIR}${PREFIX}/lib/epactsR/libs/epactsR.so

# Convert any _DEPENDS above that have a buildlink3.mk
# .include "../..///buildlink3.mk"
.include "../../devel/zlib/buildlink3.mk"
.include "../../mk/bsd.pkg.mk"
